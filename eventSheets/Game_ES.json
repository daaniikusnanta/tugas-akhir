{
	"name": "Game_ES",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "Common_ES"
		},
		{
			"eventType": "variable",
			"name": "maxTickRate",
			"type": "number",
			"initialValue": "4",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 522719707869439
		},
		{
			"eventType": "variable",
			"name": "minTickRate",
			"type": "number",
			"initialValue": "1",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 369444187233159
		},
		{
			"eventType": "variable",
			"name": "tickRate",
			"type": "number",
			"initialValue": "6",
			"comment": "The tick",
			"isStatic": false,
			"isConstant": false,
			"sid": 450634544757407
		},
		{
			"eventType": "variable",
			"name": "day",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 920261971858448
		},
		{
			"eventType": "variable",
			"name": "isRunning",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 775536544835369
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Game",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 518602592043125
						}
					],
					"actions": [
						{
							"type": "script",
							"script": "initializePolicyViews(runtime);"
						},
						{
							"callFunction": "SetupClickablePanels",
							"sid": 658224677021982
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 611279084989323,
							"parameters": {
								"name": "BUTTON_CLICKED",
								"string": "LayoutName",
								"function": "MenuButtonClicked"
							}
						},
						{
							"id": "map-function",
							"objectClass": "Functions",
							"sid": 137783170310731,
							"parameters": {
								"name": "PANEL_CLICKED",
								"string": "LayoutName",
								"function": "UIPanelClicked"
							}
						},
						{
							"id": "start-timer",
							"objectClass": "GameManager",
							"sid": 405763387673053,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "tickRate",
								"type": "regular",
								"tag": "\"Tick\""
							}
						},
						{
							"id": "set-text",
							"objectClass": "TickRate",
							"sid": 832960829303103,
							"parameters": {
								"text": "\"Tick rate: \" & tickRate"
							}
						},
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 320843196971973,
							"parameters": {
								"variable": "isRunning",
								"value": "true"
							}
						}
					],
					"sid": 982971445756731
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "GameManager",
							"sid": 329903742573966,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"Tick\""
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 850864639808578,
							"parameters": {
								"variable": "day",
								"value": "Day + 1"
							}
						},
						{
							"type": "script",
							"script": "updateAllStatus(runtime);\nupdateAllCrisis(runtime);\nupdateFSM();\nupdateStatusView(runtime);\nupdateCrisisView(runtime);\nupdateFiscalViews(runtime);"
						}
					],
					"sid": 268964243012299,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 338274129188735,
									"parameters": {
										"first-value": "GameManager.Timer.Duration(\"Tick\")",
										"comparison": 1,
										"second-value": "tickRate"
									}
								}
							],
							"actions": [
								{
									"id": "start-timer",
									"objectClass": "GameManager",
									"sid": 372769231226637,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "tickRate",
										"type": "regular",
										"tag": "\"Tick\""
									}
								}
							],
							"sid": 460886259768926
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UIText",
									"sid": 891357014194865,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"day\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 305458660855761,
									"parameters": {
										"text": "\"Day \" & day"
									}
								}
							],
							"sid": 237452852588075
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 626888163548503
						},
						{
							"id": "is-timer-running",
							"objectClass": "GameManager",
							"sid": 634296862353963,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"Tick\""
							}
						}
					],
					"actions": [],
					"sid": 448996669788675,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ProgressBar",
									"sid": 121151850740434,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"day\""
									}
								}
							],
							"actions": [
								{
									"id": "set-width",
									"objectClass": "ProgressBar",
									"sid": 324599643043710,
									"parameters": {
										"width": "clamp(GameManager.Timer.CurrentTime(\"Tick\")/GameManager.Timer.Duration(\"Tick\")*Self.maxWidth, Self.minWidth, Self.maxWidth)"
									}
								}
							],
							"sid": 279920406147001
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-clicked",
							"objectClass": "ButtonPause",
							"sid": 870943837107309
						}
					],
					"actions": [],
					"sid": 354072899059509,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 760804432889301,
									"parameters": {
										"variable": "isRunning"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "ButtonPause",
									"sid": 556371626239331,
									"parameters": {
										"text": "\"Resume\""
									}
								},
								{
									"id": "pause-resume-timer",
									"objectClass": "GameManager",
									"sid": 348984501636003,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"Tick\"",
										"state": "paused"
									}
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 200415206877097,
									"parameters": {
										"variable": "isRunning",
										"value": "false"
									}
								},
								{
									"id": "set-effect-enabled",
									"objectClass": "ProgressBar",
									"sid": 580016124319530,
									"parameters": {
										"mode": "enable",
										"effect": "\"SetColor\""
									}
								}
							],
							"sid": 760494216045422
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 587233191078164
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "ButtonPause",
									"sid": 138867869782847,
									"parameters": {
										"text": "\"Pause\""
									}
								},
								{
									"id": "pause-resume-timer",
									"objectClass": "GameManager",
									"sid": 996464581919319,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"Tick\"",
										"state": "resumed"
									}
								},
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 339460927643873,
									"parameters": {
										"variable": "isRunning",
										"value": "true"
									}
								},
								{
									"id": "set-effect-enabled",
									"objectClass": "ProgressBar",
									"sid": 112495763806843,
									"parameters": {
										"mode": "disable",
										"effect": "\"SetColor\""
									}
								}
							],
							"sid": 623194381697160
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-clicked",
							"objectClass": "ButtonInrease",
							"sid": 413147639822475
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 745041179848502,
							"parameters": {
								"variable": "tickRate",
								"comparison": 2,
								"value": "maxTickRate"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 905369409009966,
							"parameters": {
								"variable": "tickRate",
								"value": "tickRate + 0.5"
							}
						},
						{
							"id": "set-text",
							"objectClass": "TickRate",
							"sid": 808628117382173,
							"parameters": {
								"text": "\"Tick rate: \" & tickRate"
							}
						}
					],
					"sid": 524726317425321
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-clicked",
							"objectClass": "ButtonDecrease",
							"sid": 935178206896065
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 658454054227680,
							"parameters": {
								"variable": "tickRate",
								"comparison": 4,
								"value": "minTickRate"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 654664371644345,
							"parameters": {
								"variable": "tickRate",
								"value": "tickRate - 0.5"
							}
						},
						{
							"id": "set-text",
							"objectClass": "TickRate",
							"sid": 329174776223264,
							"parameters": {
								"text": "\"Tick rate: \" & tickRate"
							}
						}
					],
					"sid": 879831987466582
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-touch-start",
							"objectClass": "Touch",
							"sid": 601816801057799
						},
						{
							"id": "cursor-is-over-object",
							"objectClass": "Mouse",
							"sid": 114371523533205,
							"parameters": {
								"object": "UIPanel"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"callFunction": "showStatusPanel",
							"sid": 737463637766291,
							"parameters": [
								"\"\"",
								false
							]
						},
						{
							"callFunction": "showCrisisPanel",
							"sid": 346275711024862,
							"parameters": [
								false
							]
						},
						{
							"callFunction": "showPolicyPanel",
							"sid": 149286169464735,
							"parameters": [
								"\"\"",
								false
							]
						}
					],
					"sid": 192436697156279
				},
				{
					"functionName": "MenuButtonClicked",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "uid",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 767861210822662
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "Button",
							"sid": 206711813583698,
							"parameters": {
								"unique-id": "uid"
							}
						}
					],
					"actions": [],
					"sid": 491295315472353,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 238103160458480,
									"parameters": {
										"first-value": "RegexMatchCount(Button.id, \"status\", \"\")",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"callFunction": "showStatusPanel",
									"sid": 345683510508793,
									"parameters": [
										"tokenat(Button.id, 0, \"_\")",
										true
									]
								}
							],
							"sid": 627493602582896
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 584032643208967,
									"parameters": {
										"first-value": "RegexMatchCount(Button.id, \"policy\", \"\")",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"callFunction": "showPolicyPanel",
									"sid": 159744151605400,
									"parameters": [
										"tokenat(Button.id, 0, \"_\")",
										true
									]
								}
							],
							"sid": 200290971298159
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Button",
									"sid": 674525453037274,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"crisis\""
									}
								}
							],
							"actions": [],
							"sid": 392998340683190,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "layer-is-visible",
											"objectClass": "System",
											"sid": 346039741769986,
											"parameters": {
												"layer": "\"PanelCrisis\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"callFunction": "showCrisisPanel",
											"sid": 537185157392160,
											"parameters": [
												true
											]
										}
									],
									"sid": 887790517699090
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 237114112509398
										}
									],
									"actions": [
										{
											"callFunction": "showCrisisPanel",
											"sid": 665675379860426,
											"parameters": [
												false
											]
										}
									],
									"sid": 219119583243453
								}
							]
						}
					]
				},
				{
					"functionName": "UIPanelClicked",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "uid",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 974462768814368
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "ClickablePanel",
							"sid": 358031533743081,
							"parameters": {
								"unique-id": "uid"
							}
						}
					],
					"actions": [],
					"sid": 445806361381016,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ClickablePanel",
									"sid": 103493516031450,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"tes\""
									}
								}
							],
							"actions": [
								{
									"type": "script",
									"script": "console.log(\"tes\");"
								}
							],
							"sid": 822826177318183
						}
					]
				},
				{
					"functionName": "showStatusPanel",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "status",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 352533481313809
						},
						{
							"name": "show",
							"type": "boolean",
							"initialValue": "true",
							"comment": "",
							"sid": 547545509619647
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 963236609190068,
							"parameters": {
								"layer": "\"PanelFinancial\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 919041937419996,
							"parameters": {
								"layer": "\"PanelHealth\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 683373750281633,
							"parameters": {
								"layer": "\"PanelEducation\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 949675534525445,
							"parameters": {
								"layer": "\"PanelSocial\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 961467374971351,
							"parameters": {
								"layer": "\"PanelNatural\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 348364989866036,
							"parameters": {
								"layer": "\"PanelLabor\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 978111298224282,
							"parameters": {
								"layer": "\"PanelEnvironment\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 299111793162993,
							"parameters": {
								"layer": "\"PanelInfrastructure\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 828883527779041,
							"parameters": {
								"layer": "\"PanelDefense\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 107672453771516,
							"parameters": {
								"layer": "\"PanelStability\"",
								"visibility": "invisible"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 515819947783456,
							"parameters": {
								"layer": "\"PanelIndustry\"",
								"visibility": "invisible"
							}
						}
					],
					"sid": 710077073666599,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 596221217224655,
									"parameters": {
										"variable": "show"
									}
								}
							],
							"actions": [
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 820755284894423,
									"parameters": {
										"layer": "\"Panel\" & uppercase(left(status, 1)) & right(status, len(status)-1)",
										"visibility": "visible"
									}
								}
							],
							"sid": 829436645292242
						}
					]
				},
				{
					"functionName": "showCrisisPanel",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "show",
							"type": "boolean",
							"initialValue": "false",
							"comment": "",
							"sid": 683212733292981
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 289707340048162,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 177379268107575,
									"parameters": {
										"variable": "show"
									}
								}
							],
							"actions": [
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 700853927476930,
									"parameters": {
										"layer": "\"PanelCrisis\"",
										"visibility": "visible"
									}
								}
							],
							"sid": 207270832904919
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 372144369014769
								}
							],
							"actions": [
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 385860963892232,
									"parameters": {
										"layer": "\"PanelCrisis\"",
										"visibility": "invisible"
									}
								}
							],
							"sid": 648076060006760
						}
					]
				},
				{
					"functionName": "showPolicyPanel",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "policyType",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 922209966426629
						},
						{
							"name": "show",
							"type": "boolean",
							"initialValue": "true",
							"comment": "",
							"sid": 208659183222295
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 653537904875028,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 651416469506009,
									"parameters": {
										"variable": "show"
									}
								}
							],
							"actions": [
								{
									"type": "script",
									"script": "console.log(localVars.policyType);\nshowPolicyPanel(localVars.policyType, runtime);"
								},
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 455130048507148,
									"parameters": {
										"layer": "\"PanelPolicy\"",
										"visibility": "visible"
									}
								}
							],
							"sid": 106018960529653
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 507953959194330
								}
							],
							"actions": [
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 342330189073025,
									"parameters": {
										"layer": "\"PanelPolicy\"",
										"visibility": "invisible"
									}
								}
							],
							"sid": 758777198752536
						}
					]
				}
			],
			"sid": 841929679503871
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "SliderBar",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 556447413316293
						},
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 694114928366839,
							"parameters": {
								"object": "Slider"
							}
						}
					],
					"actions": [
						{
							"callFunction": "SetupSliderBar",
							"sid": 336579489363680
						}
					],
					"sid": 148298126790286
				},
				{
					"functionName": "SetupSliderBar",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-x",
							"objectClass": "Slider",
							"sid": 325665271897354,
							"parameters": {
								"x": "Self.minX + Self.value/Self.maxValue * (Self.maxX - Self.minX)"
							}
						}
					],
					"sid": 926633172671623
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-dragging",
							"objectClass": "Slider",
							"sid": 549085912347025,
							"behaviorType": "DragDrop"
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Slider",
							"sid": 690761503424306,
							"parameters": {
								"instance-variable": "isDraggable"
							}
						}
					],
					"actions": [
						{
							"id": "set-x",
							"objectClass": "Slider",
							"sid": 353087564943295,
							"parameters": {
								"x": "clamp(Self.X, Self.minX, Self.maxX)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Slider",
							"sid": 818671843664456,
							"parameters": {
								"instance-variable": "value",
								"value": "(Self.X - Self.minX) / (Self.maxX - Self.minX) * Self.maxValue"
							}
						}
					],
					"sid": 561760919439549,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UIText",
									"sid": 350961683626070,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "left(Slider.id, find(Slider.id, \"_slider\")) & \"_text\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 931884532808299,
									"parameters": {
										"text": "Slider.value"
									}
								}
							],
							"sid": 554820079075309
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Slider",
									"sid": 438715582187568,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "left(Slider.id, find(Slider.id, \"_crisis_slider\")) & \"_crisis_slider\""
									}
								}
							],
							"actions": [
								{
									"type": "script",
									"script": "const slider = runtime.objects.Slider.getPickedInstances()[0];\nconst crisis = slider.instVars['id'].replace(\"_crisis_slider\", \"\");\nsetCrisisValue(crisis, slider.instVars['value']);\nupdateFSM();\nupdateStatusView(runtime);\nupdateCrisisView(runtime);"
								}
							],
							"sid": 276331711608241
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Slider",
									"sid": 964244485681498,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "left(Slider.id, find(Slider.id, \"_status_slider\")) & \"_status_slider\""
									}
								}
							],
							"actions": [
								{
									"type": "script",
									"script": "const slider = runtime.objects.Slider.getPickedInstances()[0];\nconst status = slider.instVars['id'].replace(\"_status_slider\", \"\");\nsetStatusValue(status, slider.instVars['value']);\nupdateStatusView(runtime);\nupdateCrisisView(runtime);"
								}
							],
							"sid": 888014597191443
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 906192130642899
						},
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 844413240954713,
							"parameters": {
								"object": "SliderBar"
							}
						}
					],
					"actions": [
						{
							"id": "set-x",
							"objectClass": "SliderBar",
							"sid": 140653789414171,
							"parameters": {
								"x": "clamp(Self.value2, Self.minX2, Self.maxX2)"
							}
						}
					],
					"sid": 829278141159854,
					"disabled": true
				},
				{
					"functionName": "SetSliderValue",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "value",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 588559624522030
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Slider",
							"sid": 446400525777389,
							"parameters": {
								"instance-variable": "value",
								"value": "value"
							}
						},
						{
							"id": "set-x",
							"objectClass": "Slider",
							"sid": 558664767481393,
							"parameters": {
								"x": "Self.minX +clamp (value/Self.maxValue * (Self.maxValue - Self.minX), Self.minX, Self.maxX)"
							}
						}
					],
					"sid": 683034627595728
				}
			],
			"sid": 965283414062118
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Scroll",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "SCROLL_SPEED",
					"type": "number",
					"initialValue": "1500",
					"comment": "",
					"isStatic": true,
					"isConstant": true,
					"sid": 664739944172478
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 110489392937047
						},
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 820671897745318,
							"parameters": {
								"object": "ScrollablePanel"
							}
						}
					],
					"actions": [
						{
							"callFunction": "SetupScrollable",
							"sid": 357983563311659
						}
					],
					"sid": 224936490578978
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-mouse-wheel",
							"objectClass": "Mouse",
							"sid": 854824964724389,
							"parameters": {
								"direction": "up"
							}
						},
						{
							"id": "cursor-is-over-object",
							"objectClass": "Mouse",
							"sid": 470114086783900,
							"parameters": {
								"object": "UIPanel"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "UIPanel",
							"sid": 255552502043761,
							"parameters": {
								"child": "ScrollablePanel",
								"which": "own"
							}
						}
					],
					"actions": [],
					"sid": 513317575899587,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 400304947470428,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"vertical\""
									}
								}
							],
							"actions": [
								{
									"id": "set-y",
									"objectClass": "ScrollablePanel",
									"sid": 649781832719090,
									"parameters": {
										"y": "Self.Y+ SCROLL_SPEED  * dt"
									}
								},
								{
									"callFunction": "clampScrollable",
									"sid": 266911924427154
								}
							],
							"sid": 459602447136733
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 276556933776019,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"horizontal\""
									}
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "ScrollablePanel",
									"sid": 658701802004149,
									"parameters": {
										"x": "Self.X + SCROLL_SPEED * dt"
									}
								},
								{
									"callFunction": "clampScrollable",
									"sid": 425598458467547
								}
							],
							"sid": 688314662709570
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-mouse-wheel",
							"objectClass": "Mouse",
							"sid": 246173421665977,
							"parameters": {
								"direction": "down"
							}
						},
						{
							"id": "cursor-is-over-object",
							"objectClass": "Mouse",
							"sid": 893203093537634,
							"parameters": {
								"object": "UIPanel"
							}
						},
						{
							"id": "pick-children",
							"objectClass": "UIPanel",
							"sid": 169058267686620,
							"parameters": {
								"child": "ScrollablePanel",
								"which": "own"
							}
						}
					],
					"actions": [],
					"sid": 841338009965280,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 594850749044773,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"vertical\""
									}
								}
							],
							"actions": [
								{
									"id": "set-y",
									"objectClass": "ScrollablePanel",
									"sid": 214154566782213,
									"parameters": {
										"y": "Self.Y - SCROLL_SPEED  * dt"
									}
								},
								{
									"callFunction": "clampScrollable",
									"sid": 897966578913476
								}
							],
							"sid": 228885932290327
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 370082529785722,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"horizontal\""
									}
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "ScrollablePanel",
									"sid": 344757817864239,
									"parameters": {
										"x": "Self.X - SCROLL_SPEED * dt"
									}
								},
								{
									"callFunction": "clampScrollable",
									"sid": 359069290605925
								}
							],
							"sid": 363830675837787
						}
					]
				},
				{
					"functionName": "SetupScrollable",
					"functionDescription": "",
					"functionCategory": "Scrollable",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "ScrollablePanel",
							"sid": 225506505316855,
							"parameters": {
								"instance-variable": "initialMin",
								"value": "Self.min"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "ScrollablePanel",
							"sid": 388595851872140,
							"parameters": {
								"instance-variable": "initialMax",
								"value": "Self.max"
							}
						}
					],
					"sid": 327972686658604,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 865839735050746,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"horizontal\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "ScrollablePanel",
									"sid": 350297472419875,
									"parameters": {
										"instance-variable": "initialLength",
										"value": "Self.Width"
									}
								}
							],
							"sid": 875430578416390
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 587430569710187,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"vertical\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "ScrollablePanel",
									"sid": 352264068685235,
									"parameters": {
										"instance-variable": "initialLength",
										"value": "Self.Height"
									}
								}
							],
							"sid": 745748974325872
						}
					]
				},
				{
					"functionName": "clampScrollable",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 732414777973229,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 345555121795323,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"horizontal\""
									}
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "ScrollablePanel",
									"sid": 137402850428345,
									"parameters": {
										"x": "clamp(Self.X, Self.min, Self.max)"
									}
								}
							],
							"sid": 560994017900879
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ScrollablePanel",
									"sid": 620374237141984,
									"parameters": {
										"instance-variable": "direction",
										"comparison": 0,
										"value": "\"vertical\""
									}
								}
							],
							"actions": [
								{
									"id": "set-y",
									"objectClass": "ScrollablePanel",
									"sid": 819627305029779,
									"parameters": {
										"y": "clamp(Self.Y, Self.min, Self.max)"
									}
								}
							],
							"sid": 449252586401962
						}
					]
				}
			],
			"sid": 959501323994010
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "PanAndZoom",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "TouchPanID",
					"type": "number",
					"initialValue": "-1",
					"comment": "ID of the touch using to pan",
					"isStatic": true,
					"isConstant": false,
					"sid": 847770430872547
				},
				{
					"eventType": "variable",
					"name": "TouchZoomID",
					"type": "number",
					"initialValue": "-1",
					"comment": "ID of second touch using to zoom",
					"isStatic": true,
					"isConstant": false,
					"sid": 375008447792848
				},
				{
					"eventType": "variable",
					"name": "TouchLastX",
					"type": "number",
					"initialValue": "0",
					"comment": "Initial X position of touch (for pan)",
					"isStatic": true,
					"isConstant": false,
					"sid": 818522554016073
				},
				{
					"eventType": "variable",
					"name": "TouchLastY",
					"type": "number",
					"initialValue": "0",
					"comment": "Initial Y position of touch (for pan)",
					"isStatic": true,
					"isConstant": false,
					"sid": 649269021817605
				},
				{
					"eventType": "variable",
					"name": "TouchStartDistance",
					"type": "number",
					"initialValue": "0",
					"comment": "Initial distance apart of touches (for zoom)",
					"isStatic": true,
					"isConstant": false,
					"sid": 475661532190370
				},
				{
					"eventType": "variable",
					"name": "InitialScale",
					"type": "number",
					"initialValue": "0",
					"comment": "Initial scale of layout (for zoom)",
					"isStatic": true,
					"isConstant": false,
					"sid": 167598591005758
				},
				{
					"eventType": "variable",
					"name": "minScale",
					"type": "number",
					"initialValue": "0.5",
					"comment": "Minimal scale of layout (for zoom)",
					"isStatic": true,
					"isConstant": false,
					"sid": 446885965438125
				},
				{
					"eventType": "variable",
					"name": "MaxScale",
					"type": "number",
					"initialValue": "2",
					"comment": "Max scale of layout (for zoom)",
					"isStatic": true,
					"isConstant": false,
					"sid": 436018292601049
				},
				{
					"eventType": "variable",
					"name": "OriginalMidX",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 560574407287322
				},
				{
					"eventType": "variable",
					"name": "OriginalMidY",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 522798260091149
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 908927061275997
						}
					],
					"actions": [
						{
							"callFunction": "ResetPanAndZoomVariable",
							"sid": 453785640930928
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 642848690903123,
							"parameters": {
								"variable": "OriginalMidX",
								"value": "OriginalViewportWidth/2"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 481378808417419,
							"parameters": {
								"variable": "OriginalMidY",
								"value": "OriginalViewportHeight/2"
							}
						}
					],
					"sid": 877199261094477
				},
				{
					"functionName": "ResetPanAndZoomVariable",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 942596003316308,
							"parameters": {
								"variable": "TouchPanID",
								"value": "-1"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 684986291900936,
							"parameters": {
								"variable": "TouchZoomID",
								"value": "-1"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 125714987409208,
							"parameters": {
								"variable": "TouchLastX",
								"value": "0"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 822614027577445,
							"parameters": {
								"variable": "TouchLastY",
								"value": "0"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 208380175179235,
							"parameters": {
								"variable": "TouchStartDistance",
								"value": "0"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 108260954267387,
							"parameters": {
								"variable": "InitialScale",
								"value": "0"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 605051254668343,
							"parameters": {
								"variable": "minScale",
								"value": "max(0.5, ViewportWidth(\"UI\")/LayoutWidth, ViewportHeight(\"UI\")/LayoutHeight)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 897009937683920,
							"parameters": {
								"variable": "MaxScale",
								"value": "2"
							}
						},
						{
							"callFunction": "SetZoom",
							"sid": 535455617928282,
							"parameters": [
								"1"
							]
						}
					],
					"sid": 874497800786334
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-touch-start",
							"objectClass": "Touch",
							"sid": 948242628149931
						},
						{
							"id": "is-touching-object",
							"objectClass": "Touch",
							"sid": 380951269209862,
							"parameters": {
								"object": "ScrollablePanel"
							},
							"isInverted": true
						},
						{
							"id": "is-touching-object",
							"objectClass": "Touch",
							"sid": 888177863551396,
							"parameters": {
								"object": "Button"
							},
							"isInverted": true
						},
						{
							"id": "is-touching-object",
							"objectClass": "Touch",
							"sid": 491795349568824,
							"parameters": {
								"object": "SliderBar"
							},
							"isInverted": true
						},
						{
							"id": "is-touching-object",
							"objectClass": "Touch",
							"sid": 750314655634088,
							"parameters": {
								"object": "UIPanel"
							},
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 645899763660258,
					"children": [
						{
							"eventType": "comment",
							"text": "If the user touches, and we're not already panning with a different touch, store the touch ID and the position of the touch. Note we get the position of the touch from a separate layer which has a parallax of 0, otherwise panning the view would alter the reported touch position, resulting in confusing feedback loops."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 225735926690867,
									"parameters": {
										"variable": "TouchPanID",
										"comparison": 0,
										"value": "-1"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 868081371958812,
									"parameters": {
										"variable": "TouchLastX",
										"value": "Touch.X(\"UI\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 933294924660855,
									"parameters": {
										"variable": "TouchLastY",
										"value": "Touch.Y(\"UI\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 323025813718126,
									"parameters": {
										"variable": "TouchPanID",
										"value": "Touch.TouchID"
									}
								}
							],
							"sid": 608860516354948
						},
						{
							"eventType": "comment",
							"text": "Otherwise if we're already panning with a touch, this must be a second touch. Use this second touch to zoom the display. We need to remember the starting distance apart of the touches, as well as the starting layout scale, in order to calculate the zoom. Also store the mid-point of the touches, so we can still pan while zooming."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 920426881047331
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 350936035178478,
									"parameters": {
										"variable": "TouchZoomID",
										"comparison": 0,
										"value": "-1"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 186767715052026,
									"parameters": {
										"variable": "TouchZoomID",
										"value": "Touch.TouchID"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 235412057127580,
									"parameters": {
										"variable": "TouchStartDistance",
										"value": "distance(Touch.XForID(TouchPanID, \"UI\"), Touch.YForID(TouchPanID, \"UI\"), Touch.XForID(TouchZoomID, \"UI\"), Touch.YForID(TouchZoomID, \"UI\"))"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 286851135041898,
									"parameters": {
										"variable": "InitialScale",
										"value": "LayerScale(\"Game\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 499667633437596,
									"parameters": {
										"variable": "TouchLastX",
										"value": "(Touch.XForID(TouchPanID, \"UI\") + Touch.XForID(TouchZoomID, \"UI\")) / 2"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 633961251322358,
									"parameters": {
										"variable": "TouchLastY",
										"value": "(Touch.YForID(TouchPanID, \"UI\") + Touch.YForID(TouchZoomID, \"UI\")) / 2"
									}
								}
							],
							"sid": 385843051808539
						}
					]
				},
				{
					"eventType": "comment",
					"text": "While we have a touch to pan with, and we're not zooming, offset the scroll position by the change in position of the touch. This makes the view scroll with the touch. Note we also need to take in to account the layout scale to pan correctly at different zoom levels."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 432725776584723,
							"parameters": {
								"variable": "TouchPanID",
								"comparison": 1,
								"value": "-1"
							}
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 436471069382575,
							"parameters": {
								"variable": "TouchZoomID",
								"comparison": 0,
								"value": "-1"
							}
						},
						{
							"id": "layer-is-visible",
							"objectClass": "System",
							"sid": 809465429997129,
							"parameters": {
								"layer": "\"PopUpBG\""
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "scroll-to-position",
							"objectClass": "System",
							"sid": 729693429735618,
							"parameters": {
								"x": "scrollx - (Touch.X(\"UI\") - TouchLastX) / LayerScale(\"Game\")",
								"y": "scrolly - (Touch.Y(\"UI\") - TouchLastY) / LayerScale(\"Game\")"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 207287904410808,
							"parameters": {
								"variable": "TouchLastX",
								"value": "Touch.X(\"UI\")"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 557350256994108,
							"parameters": {
								"variable": "TouchLastY",
								"value": "Touch.Y(\"UI\")"
							}
						}
					],
					"sid": 726491219535623
				},
				{
					"eventType": "comment",
					"text": "If there is a second touch we're zooming with, adjust the layout scale based on the distance between the touches. Also calculate the new mid-point of the two touches and keep panning based on that."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 889176553918667,
							"parameters": {
								"variable": "TouchZoomID",
								"comparison": 1,
								"value": "-1"
							}
						},
						{
							"id": "layer-is-visible",
							"objectClass": "System",
							"sid": 643023330004338,
							"parameters": {
								"layer": "\"PopUpBG\""
							},
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 414057524249245,
					"children": [
						{
							"eventType": "variable",
							"name": "TouchCurrentDistance",
							"type": "number",
							"initialValue": "0",
							"comment": "The current distance apart of the touches (for zoom)",
							"isStatic": false,
							"isConstant": false,
							"sid": 146101690161996
						},
						{
							"eventType": "variable",
							"name": "TouchCurrentMidX",
							"type": "number",
							"initialValue": "0",
							"comment": "The current average position of the touches for panning while zooming",
							"isStatic": false,
							"isConstant": false,
							"sid": 517980047109163
						},
						{
							"eventType": "variable",
							"name": "TouchCurrentMidY",
							"type": "number",
							"initialValue": "0",
							"comment": "The current average position of the touches for panning while zooming",
							"isStatic": false,
							"isConstant": false,
							"sid": 511667672614343
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 399968571453045,
									"parameters": {
										"variable": "TouchCurrentMidX",
										"value": "(Touch.XForID(TouchPanID, \"UI\") + Touch.XForID(TouchZoomID, \"UI\")) / 2"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 303108467310181,
									"parameters": {
										"variable": "TouchCurrentMidY",
										"value": "(Touch.YForID(TouchPanID, \"UI\") + Touch.YForID(TouchZoomID, \"UI\")) / 2"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 450278113827498,
									"parameters": {
										"variable": "TouchCurrentDistance",
										"value": "distance(Touch.XForID(TouchPanID, \"UI\"), Touch.YForID(TouchPanID, \"UI\"), Touch.XForID(TouchZoomID, \"UI\"), Touch.YForID(TouchZoomID, \"UI\"))"
									}
								},
								{
									"callFunction": "SetZoom",
									"sid": 865794024106431,
									"parameters": [
										"clamp(InitialScale * (TouchCurrentDistance / TouchStartDistance), minScale, MaxScale)"
									]
								},
								{
									"id": "scroll-to-position",
									"objectClass": "System",
									"sid": 290627961989307,
									"parameters": {
										"x": "scrollx - (TouchCurrentMidX - TouchLastX) / LayerScale(\"Game\")",
										"y": "scrolly - (TouchCurrentMidY - TouchLastY) / LayerScale(\"Game\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 673411679457478,
									"parameters": {
										"variable": "TouchLastX",
										"value": "TouchCurrentMidX"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 507956101169773,
									"parameters": {
										"variable": "TouchLastY",
										"value": "TouchCurrentMidY"
									}
								}
							],
							"sid": 471410742955809
						}
					]
				},
				{
					"eventType": "comment",
					"text": "When the touch we are panning or zooming with ends, reset the stored touch ID so we stop the action."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-touch-end",
							"objectClass": "Touch",
							"sid": 779946030258185
						}
					],
					"actions": [],
					"sid": 762786418752812,
					"children": [
						{
							"eventType": "comment",
							"text": "If we stop the first (panning) touch while zooming, make the second (zooming) touch become the new panning touch."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 337405186256630,
									"parameters": {
										"variable": "TouchPanID",
										"comparison": 0,
										"value": "Touch.TouchID"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 448442496874338,
									"parameters": {
										"variable": "TouchPanID",
										"value": "-1"
									}
								}
							],
							"sid": 405034219054017,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 783449641440581,
											"parameters": {
												"variable": "TouchZoomID",
												"comparison": 1,
												"value": "-1"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 394414080812405,
											"parameters": {
												"variable": "TouchPanID",
												"value": "TouchZoomID"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 127735200822004,
											"parameters": {
												"variable": "TouchZoomID",
												"value": "-1"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 340197096359176,
											"parameters": {
												"variable": "TouchLastX",
												"value": "Touch.XForID(TouchPanID, \"UI\")"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 611201731853713,
											"parameters": {
												"variable": "TouchLastY",
												"value": "Touch.YForID(TouchPanID, \"UI\")"
											}
										}
									],
									"sid": 229533911733090
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 536534015267765,
									"parameters": {
										"variable": "TouchZoomID",
										"comparison": 0,
										"value": "Touch.TouchID"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 815912486472108,
									"parameters": {
										"variable": "TouchZoomID",
										"value": "-1"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 838720968803736,
									"parameters": {
										"variable": "TouchLastX",
										"value": "Touch.XForID(TouchPanID, \"UI\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 847428447596757,
									"parameters": {
										"variable": "TouchLastY",
										"value": "Touch.YForID(TouchPanID, \"UI\")"
									}
								}
							],
							"sid": 256403407919483
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 309534955377293,
							"parameters": {
								"key": 187
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 790184797999563,
							"parameters": {
								"variable": "InitialScale",
								"value": "LayerScale(\"Game\")"
							}
						},
						{
							"callFunction": "SetZoom",
							"sid": 535039339927510,
							"parameters": [
								"clamp(InitialScale + 1 * dt, minScale, MaxScale)"
							]
						}
					],
					"sid": 215120111861366,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-mouse-wheel",
							"objectClass": "Mouse",
							"sid": 213413779135463,
							"parameters": {
								"direction": "up"
							}
						},
						{
							"id": "cursor-is-over-object",
							"objectClass": "Mouse",
							"sid": 274615449231098,
							"parameters": {
								"object": "ScrollablePanel"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 947789698754161,
							"parameters": {
								"variable": "InitialScale",
								"value": "LayerScale(\"Game\")"
							}
						},
						{
							"callFunction": "SetZoom",
							"sid": 950498071804342,
							"parameters": [
								"clamp(InitialScale + 5 * dt, minScale, MaxScale)"
							]
						}
					],
					"sid": 929132937619628
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 459977714295257,
							"parameters": {
								"key": 189
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 884900008595263,
							"parameters": {
								"variable": "InitialScale",
								"value": "LayerScale(\"Game\")"
							}
						},
						{
							"callFunction": "SetZoom",
							"sid": 417098808435373,
							"parameters": [
								"clamp(InitialScale - 1 * dt, minScale, MaxScale)"
							]
						}
					],
					"sid": 552713238485658,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-mouse-wheel",
							"objectClass": "Mouse",
							"sid": 618203942493048,
							"parameters": {
								"direction": "down"
							}
						},
						{
							"id": "cursor-is-over-object",
							"objectClass": "Mouse",
							"sid": 140615167354153,
							"parameters": {
								"object": "ScrollablePanel"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 822258754952508,
							"parameters": {
								"variable": "InitialScale",
								"value": "LayerScale(\"Game\")"
							}
						},
						{
							"callFunction": "SetZoom",
							"sid": 333373273158139,
							"parameters": [
								"clamp(InitialScale - 5 * dt, minScale, MaxScale)"
							]
						}
					],
					"sid": 151569849382764
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 295287705390243,
							"parameters": {
								"key": 87
							}
						},
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 904946176063588,
							"parameters": {
								"key": 38
							}
						}
					],
					"actions": [
						{
							"id": "scroll-to-y",
							"objectClass": "System",
							"sid": 885291624326075,
							"parameters": {
								"y": "scrolly - 400 * dt"
							}
						}
					],
					"sid": 953800978275784,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 494691948486115,
							"parameters": {
								"key": 83
							}
						},
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 481329061167953,
							"parameters": {
								"key": 40
							}
						}
					],
					"actions": [
						{
							"id": "scroll-to-y",
							"objectClass": "System",
							"sid": 572995594440457,
							"parameters": {
								"y": "scrolly + 400 * dt"
							}
						}
					],
					"sid": 743944919050191,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 254666424959522,
							"parameters": {
								"key": 65
							}
						},
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 599490050805489,
							"parameters": {
								"key": 37
							}
						}
					],
					"actions": [
						{
							"id": "scroll-to-x",
							"objectClass": "System",
							"sid": 330377062271714,
							"parameters": {
								"x": "scrollx  - 400 * dt"
							}
						}
					],
					"sid": 178873577978307,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 344551586209190,
							"parameters": {
								"key": 68
							}
						},
						{
							"id": "key-is-down",
							"objectClass": "Keyboard",
							"sid": 550511057753100,
							"parameters": {
								"key": 39
							}
						}
					],
					"actions": [
						{
							"id": "scroll-to-x",
							"objectClass": "System",
							"sid": 929560302622931,
							"parameters": {
								"x": "scrollx  + 400 * dt"
							}
						}
					],
					"sid": 341501014296627,
					"isOrBlock": true
				},
				{
					"functionName": "SetZoom",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "zoom",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 999538527197956
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-layer-scale",
							"objectClass": "System",
							"sid": 324911134347002,
							"parameters": {
								"layer": "\"Game\"",
								"scale": "zoom"
							}
						},
						{
							"id": "set-layer-scale",
							"objectClass": "System",
							"sid": 248325514584526,
							"parameters": {
								"layer": "\"Background\"",
								"scale": "zoom"
							}
						},
						{
							"id": "set-layer-scale",
							"objectClass": "System",
							"sid": 599874174239469,
							"parameters": {
								"layer": "\"Water\"",
								"scale": "zoom"
							}
						},
						{
							"id": "set-layer-scale",
							"objectClass": "System",
							"sid": 392735451772250,
							"parameters": {
								"layer": "\"Tilemap\"",
								"scale": "zoom"
							}
						},
						{
							"id": "set-layer-scale",
							"objectClass": "System",
							"sid": 968820191536516,
							"parameters": {
								"layer": "\"Grid\"",
								"scale": "zoom"
							}
						}
					],
					"sid": 315404677249910
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 801011244738645,
							"parameters": {
								"first-value": "scrollx",
								"comparison": 2,
								"second-value": "OriginalMidX / LayerScale(\"Game\")"
							}
						}
					],
					"actions": [
						{
							"id": "scroll-to-x",
							"objectClass": "System",
							"sid": 920801545651329,
							"parameters": {
								"x": "OriginalMidX / LayerScale(\"Game\")"
							}
						}
					],
					"sid": 381463664521515
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 160982889626453,
							"parameters": {
								"first-value": "scrollx",
								"comparison": 4,
								"second-value": "LayoutWidth - OriginalMidX / LayerScale(\"Game\")"
							}
						}
					],
					"actions": [
						{
							"id": "scroll-to-x",
							"objectClass": "System",
							"sid": 891415809329646,
							"parameters": {
								"x": "LayoutWidth - OriginalMidX / LayerScale(\"Game\")"
							}
						}
					],
					"sid": 351771419155922
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 240072875685435,
							"parameters": {
								"first-value": "scrolly",
								"comparison": 2,
								"second-value": "OriginalMidY / LayerScale(\"Game\")"
							}
						}
					],
					"actions": [
						{
							"id": "scroll-to-y",
							"objectClass": "System",
							"sid": 401076620604681,
							"parameters": {
								"y": "OriginalMidY / LayerScale(\"Game\")"
							}
						}
					],
					"sid": 272824226784717
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 971163578553174,
							"parameters": {
								"first-value": "scrolly",
								"comparison": 4,
								"second-value": "LayoutHeight - OriginalMidY / LayerScale(\"Game\")"
							}
						}
					],
					"actions": [
						{
							"id": "scroll-to-y",
							"objectClass": "System",
							"sid": 848545281007413,
							"parameters": {
								"y": "LayoutHeight - OriginalMidY / LayerScale(\"Game\")"
							}
						}
					],
					"sid": 493995636528069
				}
			],
			"sid": 931418544199270
		}
	],
	"sid": 260114432359631
}