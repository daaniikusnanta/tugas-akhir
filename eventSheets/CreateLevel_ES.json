{
	"name": "CreateLevel_ES",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "Common_ES"
		},
		{
			"eventType": "variable",
			"name": "mapSize",
			"type": "number",
			"initialValue": "13.8",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 566622208950491
		},
		{
			"eventType": "variable",
			"name": "mapZoom",
			"type": "number",
			"initialValue": "0.5",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 132024530944638
		},
		{
			"eventType": "variable",
			"name": "mapThreshold",
			"type": "number",
			"initialValue": "0.5",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 995874091574490
		},
		{
			"eventType": "variable",
			"name": "octave",
			"type": "number",
			"initialValue": "1",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 290376410734486
		},
		{
			"eventType": "variable",
			"name": "maxX",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 291570800667561
		},
		{
			"eventType": "variable",
			"name": "maxY",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 805073486357332
		},
		{
			"eventType": "variable",
			"name": "colors",
			"type": "number",
			"initialValue": "20",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 987151788495541
		},
		{
			"eventType": "variable",
			"name": "map_width",
			"type": "number",
			"initialValue": "1920",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 407824890545657
		},
		{
			"eventType": "variable",
			"name": "flipped",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 857179913202627
		},
		{
			"eventType": "variable",
			"name": "bicolor",
			"type": "boolean",
			"initialValue": "true",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 848585838474953
		},
		{
			"eventType": "variable",
			"name": "seed",
			"type": "string",
			"initialValue": "",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 674121724462828
		},
		{
			"eventType": "variable",
			"name": "map_ready",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 822483937613223
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 437888076344484
				}
			],
			"actions": [
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 463249465848759,
					"parameters": {
						"name": "BUTTON_CLICKED",
						"string": "LayoutName",
						"function": "MenuButtonClicked2"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 908671393795389,
					"parameters": {
						"name": "PANEL_CLICKED",
						"string": "LayoutName",
						"function": "UIPanelClicked2"
					}
				},
				{
					"type": "script",
					"script": "createInitialCrisisViews(runtime);"
				}
			],
			"sid": 960208698320484,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "DrawingCanvas",
							"sid": 974393617172614,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"map_preview\""
							}
						}
					],
					"actions": [
						{
							"id": "save-snapshot",
							"objectClass": "DrawingCanvas",
							"sid": 241874073631995
						}
					],
					"sid": 619608157889425
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-snapshot",
					"objectClass": "DrawingCanvas",
					"sid": 290059394199844
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "DrawingCanvas",
					"sid": 521385055434829,
					"parameters": {
						"instance-variable": "id",
						"comparison": 0,
						"value": "\"map_preview\""
					}
				}
			],
			"actions": [
				{
					"id": "set-boolean-eventvar",
					"objectClass": "System",
					"sid": 884653577407959,
					"parameters": {
						"variable": "map_ready",
						"value": "true"
					}
				},
				{
					"id": "seed",
					"objectClass": "AdvancedRandom",
					"sid": 668430712446293,
					"parameters": {
						"seed": "AdvancedRandom.RandomSeed"
					}
				},
				{
					"id": "set-size",
					"objectClass": "MapData",
					"sid": 179469402507634,
					"parameters": {
						"width": "ceil(MAP_WIDTH_SMALL / 64)",
						"height": "ceil((MAP_WIDTH_SMALL / 16 * 9) / 64)",
						"depth": "1"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 827907061090762,
					"parameters": {
						"variable": "map_width",
						"value": "MAP_WIDTH_SMALL"
					}
				},
				{
					"id": "log",
					"objectClass": "Browser",
					"sid": 417715047340145,
					"parameters": {
						"type": "log",
						"message": "\"Small\" & MapData.Width & \"|\" & MapData.Height"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 222179722043500,
					"parameters": {
						"variable": "mapSize",
						"value": "DrawingCanvas.SnapshotWidth / (MAP_WIDTH_SMALL / 64)"
					}
				},
				{
					"callFunction": "CreateMap",
					"sid": 680520238765025
				}
			],
			"sid": 358193614011007
		},
		{
			"functionName": "CreateMap",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "compare-boolean-eventvar",
					"objectClass": "System",
					"sid": 528757578562795,
					"parameters": {
						"variable": "map_ready"
					}
				}
			],
			"actions": [
				{
					"id": "octaves",
					"objectClass": "AdvancedRandom",
					"sid": 904941517264163,
					"parameters": {
						"count": "octave"
					}
				},
				{
					"id": "createGradient",
					"objectClass": "AdvancedRandom",
					"sid": 170529101887321,
					"parameters": {
						"name": "\"gradient\"",
						"isColor": "color"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 698686819230636,
					"parameters": {
						"variable": "maxX",
						"value": "ceil(DrawingCanvas.SnapshotWidth / mapSize)"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 922158683175403,
					"parameters": {
						"variable": "maxY",
						"value": "ceil(DrawingCanvas.SnapshotHeight / mapSize)"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 988675746989106,
					"parameters": {
						"variable": "seed",
						"value": "AdvancedRandom.Seed"
					}
				},
				{
					"id": "log",
					"objectClass": "Browser",
					"sid": 980268491136691,
					"parameters": {
						"type": "log",
						"message": "\"Map \" & DrawingCanvas.Width & \"|\" & DrawingCanvas.Height & \"|\" &  mapSize & \"|\" &  DrawingCanvas.id"
					}
				}
			],
			"sid": 807485863673609,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 643012428567786,
							"parameters": {
								"object": "Button"
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "Button",
							"sid": 265166535843305,
							"parameters": {
								"instance-variable": "isDisabled",
								"value": "true"
							}
						}
					],
					"sid": 129639767568032
				},
				{
					"eventType": "variable",
					"name": "x",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 839093007496166
				},
				{
					"eventType": "variable",
					"name": "x2",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 794927751761672
				},
				{
					"eventType": "variable",
					"name": "y",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 309540823141820
				},
				{
					"eventType": "variable",
					"name": "y2",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 468604128624486
				},
				{
					"eventType": "variable",
					"name": "value",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 763815148788751
				},
				{
					"eventType": "variable",
					"name": "mapValue",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 544891094633258
				},
				{
					"eventType": "variable",
					"name": "colorSea",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 510373636588073
				},
				{
					"eventType": "variable",
					"name": "colorLand",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 717929100906655
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "repeat",
							"objectClass": "System",
							"sid": 147288558284331,
							"parameters": {
								"count": "ceil(DrawingCanvas.SnapshotWidth /mapSize)"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 380156589499447,
							"parameters": {
								"variable": "x2",
								"value": "loopindex"
							}
						},
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 808189427896754,
							"disabled": true,
							"parameters": {
								"type": "log",
								"message": "\"index x\" & \"|\" & x2 & \"|\" & loopindex & \"|\" &  DrawingCanvas.SnapshotWidth"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 695783024142042,
							"disabled": true,
							"parameters": {
								"variable": "mapSize",
								"value": "DrawingCanvas.SnapshotWidth / 16"
							}
						}
					],
					"sid": 544802272833779,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 837894491958780,
									"parameters": {
										"count": "ceil(DrawingCanvas.SnapshotHeight / mapSize)"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 542421890491794,
									"parameters": {
										"variable": "y2",
										"value": "loopindex"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 379332391081604,
									"parameters": {
										"variable": "value",
										"value": "AdvancedRandom.Classic2d(x2 * mapSize * mapZoom, y2 * mapSize * mapZoom)"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 189481549876746,
									"disabled": true,
									"parameters": {
										"variable": "value",
										"value": "Functions.processValue(x2, y2, maxX, maxY, AdvancedRandom.Classic2d(x2 * mapSize * mapZoom, y2 * mapSize * mapZoom))"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 764747567380129,
									"disabled": true,
									"parameters": {
										"variable": "value",
										"value": "AdvancedRandom.Classic2d(x2 * AdvancedRandom.Classic2d(x2 * mapZoom * mapSize, y2 * mapZoom * mapSize), y2 * AdvancedRandom.Classic2d(y2 * mapZoom * mapSize, x2 * mapZoom * mapSize)) ^ 3"
									}
								}
							],
							"sid": 505842416989340,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-boolean-eventvar",
											"objectClass": "System",
											"sid": 289190429331998,
											"parameters": {
												"variable": "bicolor"
											}
										}
									],
									"actions": [],
									"sid": 770739412510298,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-boolean-eventvar",
													"objectClass": "System",
													"sid": 835126985430787,
													"parameters": {
														"variable": "flipped"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 662159854321549,
													"parameters": {
														"variable": "value",
														"value": "value > mapThreshold ? rgbEx255(127, 191, 114) : rgbEx255(63, 124, 196)"
													}
												},
												{
													"id": "snapshot-set-pixel",
													"objectClass": "DrawingCanvas",
													"sid": 509524216531622,
													"disabled": true,
													"parameters": {
														"x": "x",
														"y": "y",
														"color": "rgbEx((1-value)* 100, (1-value)* 100, (1-value)*100)"
													}
												}
											],
											"sid": 569969908536968
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 442080414561997
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 597045189325285,
													"parameters": {
														"variable": "mapValue",
														"value": "value <=  mapThreshold ? 1 : 0"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 840273442104580,
													"parameters": {
														"variable": "value",
														"value": "value <=  mapThreshold ? rgbEx255(127, 191, 114) : rgbEx255(63, 124, 196)"
													}
												},
												{
													"id": "snapshot-set-pixel",
													"objectClass": "DrawingCanvas",
													"sid": 524652682315721,
													"disabled": true,
													"parameters": {
														"x": "x",
														"y": "y",
														"color": "rgbEx(value* 100, (value)* 100, (value)*100)"
													}
												}
											],
											"sid": 741779187803686
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 538529906883063
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 464762549708379,
											"parameters": {
												"variable": "value",
												"value": "round(value * colors) / colors"
											}
										}
									],
									"sid": 852212878299568,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-boolean-eventvar",
													"objectClass": "System",
													"sid": 609259950526511,
													"parameters": {
														"variable": "flipped"
													}
												}
											],
											"actions": [
												{
													"id": "addStop",
													"objectClass": "AdvancedRandom",
													"sid": 477560344770985,
													"parameters": {
														"position": "0",
														"value": "rgbEx255(63, 124, 196)"
													}
												},
												{
													"id": "addStop",
													"objectClass": "AdvancedRandom",
													"sid": 252043836211190,
													"parameters": {
														"position": "1",
														"value": "rgbEx255(127, 191, 114)"
													}
												}
											],
											"sid": 138749021894933
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 811405455464880
												}
											],
											"actions": [
												{
													"id": "addStop",
													"objectClass": "AdvancedRandom",
													"sid": 426019797860451,
													"parameters": {
														"position": "0",
														"value": "rgbEx255(127, 191, 114)"
													}
												},
												{
													"id": "addStop",
													"objectClass": "AdvancedRandom",
													"sid": 250728358821314,
													"parameters": {
														"position": "1",
														"value": "rgbEx255(63, 124, 196)"
													}
												}
											],
											"sid": 235096318475336
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-at-xy",
											"objectClass": "MapData",
											"sid": 335782995716083,
											"parameters": {
												"x": "x2",
												"y": "y2",
												"value": "mapValue"
											}
										},
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 884518592604000,
											"disabled": true,
											"parameters": {
												"type": "log",
												"message": "\"MapValue \" & x2 & \"|\" & y2 & \"|\" &  mapValue"
											}
										}
									],
									"sid": 880150790670714
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "repeat",
											"objectClass": "System",
											"sid": 357970942267611,
											"parameters": {
												"count": "mapSize"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 963004909012498,
											"parameters": {
												"variable": "x",
												"value": "(x2)*mapSize + (loopindex)"
											}
										}
									],
									"sid": 679575045299250,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "repeat",
													"objectClass": "System",
													"sid": 906321094288718,
													"parameters": {
														"count": "mapSize"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 608780490817701,
													"parameters": {
														"variable": "y",
														"value": "(y2)*mapSize + (loopindex)"
													}
												},
												{
													"id": "log",
													"objectClass": "Browser",
													"sid": 558319644297469,
													"disabled": true,
													"parameters": {
														"type": "log",
														"message": "\"size\" & \"|\" & x  & \"|\" & y"
													}
												}
											],
											"sid": 836928809484931,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 163624874317916,
															"parameters": {
																"variable": "x",
																"comparison": 3,
																"value": "DrawingCanvas.SnapshotWidth"
															}
														},
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 835454348400366,
															"parameters": {
																"variable": "y",
																"comparison": 3,
																"value": "DrawingCanvas.SnapshotHeight"
															}
														}
													],
													"actions": [],
													"sid": 806674815069876,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-boolean-eventvar",
																	"objectClass": "System",
																	"sid": 105377677990465,
																	"parameters": {
																		"variable": "bicolor"
																	}
																}
															],
															"actions": [
																{
																	"id": "snapshot-set-pixel",
																	"objectClass": "DrawingCanvas",
																	"sid": 967708642957713,
																	"parameters": {
																		"x": "x",
																		"y": "y",
																		"color": "value"
																	}
																}
															],
															"sid": 745201475005048
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 385276247977866
																}
															],
															"actions": [
																{
																	"id": "log",
																	"objectClass": "Browser",
																	"sid": 736608257343746,
																	"disabled": true,
																	"parameters": {
																		"type": "log",
																		"message": "x2 & \"|\" & y2 & \"|\" & value"
																	}
																},
																{
																	"id": "snapshot-set-pixel",
																	"objectClass": "DrawingCanvas",
																	"sid": 457324041778003,
																	"parameters": {
																		"x": "x",
																		"y": "y",
																		"color": "AdvancedRandom.Gradient(value)"
																	}
																}
															],
															"sid": 123311127889993
														}
													]
												}
											]
										}
									]
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "load-snapshot",
							"objectClass": "DrawingCanvas",
							"sid": 622303806453390
						}
					],
					"sid": 150007336909722
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 349903428242494,
							"parameters": {
								"object": "Button"
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "Button",
							"sid": 175190242379048,
							"parameters": {
								"instance-variable": "isDisabled",
								"value": "false"
							}
						}
					],
					"sid": 376665812657669
				}
			]
		},
		{
			"functionName": "processValue",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "number",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "x",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 306007690494530
				},
				{
					"name": "y",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 967873539353629
				},
				{
					"name": "width",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 553888486921764
				},
				{
					"name": "height",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 901863808952020
				},
				{
					"name": "value",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 721190859340944
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"type": "script",
					"script": "const {x, y, width, height, value} = localVars;\n\n// needs tweaking\nconst falloffMinDistance = 4;\nconst falloffRadius = Math.min(width, height);\nconst distance = Math.sqrt((x - width/2)**2 + (y - height/2)**2);\n\nlet falloff = 1;\nif (distance > falloffMinDistance) {\nfalloff = Math.max(0, (falloffRadius - distance) / (falloffRadius - falloffMinDistance));\n}\n\nconst falloffNoise = value * falloff;\n\nruntime.setReturnValue(1 - falloffNoise)"
				}
			],
			"sid": 197015115840067
		},
		{
			"functionName": "MenuButtonClicked2",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": true,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "uid",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 949243749098947
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "Button",
					"sid": 165550141539459,
					"parameters": {
						"unique-id": "uid"
					}
				},
				{
					"id": "layer-is-interactive",
					"objectClass": "System",
					"sid": 841219490364039,
					"parameters": {
						"layer": "Button.LayerName"
					}
				}
			],
			"actions": [],
			"sid": 301879775807056,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 195853029338623,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"flip_color\""
							}
						}
					],
					"actions": [
						{
							"id": "toggle-boolean-eventvar",
							"objectClass": "System",
							"sid": 458894296800218,
							"parameters": {
								"variable": "flipped"
							}
						},
						{
							"callFunction": "CreateMap",
							"sid": 902986187874163
						}
					],
					"sid": 246641046855493
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 141668795133145,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"bicolor\""
							}
						}
					],
					"actions": [
						{
							"id": "toggle-boolean-eventvar",
							"objectClass": "System",
							"sid": 473616607174914,
							"parameters": {
								"variable": "bicolor"
							}
						},
						{
							"callFunction": "CreateMap",
							"sid": 492496299736184
						}
					],
					"sid": 432803898097269
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 493638364458267,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"new\""
							}
						}
					],
					"actions": [
						{
							"id": "seed",
							"objectClass": "AdvancedRandom",
							"sid": 729912665918408,
							"parameters": {
								"seed": "AdvancedRandom.RandomSeed"
							}
						},
						{
							"callFunction": "CreateMap",
							"sid": 116513802492371
						}
					],
					"sid": 846511029487078
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 130008967616813,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"geography_size_next\""
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "UIText",
							"sid": 661044903556716,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"geography_size\""
							}
						}
					],
					"actions": [
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 447996308852309,
							"parameters": {
								"type": "log",
								"message": "\"next \" & map_width & \"|\" & UIText.Text"
							}
						}
					],
					"sid": 729912809538086,
					"children": [
						{
							"eventType": "variable",
							"name": "selectedSize",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 737484529167842
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 314819613264995,
									"parameters": {
										"variable": "map_width",
										"comparison": 0,
										"value": "MAP_WIDTH_SMALL"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 983660352278624,
									"parameters": {
										"text": "\"Medium\""
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 783316732408239,
									"parameters": {
										"variable": "selectedSize",
										"value": "MAP_WIDTH_MEDIUM"
									}
								}
							],
							"sid": 860143885160989
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 167916100511666,
									"parameters": {
										"variable": "map_width",
										"comparison": 0,
										"value": "MAP_WIDTH_MEDIUM"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 471379864743142,
									"parameters": {
										"text": "\"Large\""
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 155026571286231,
									"parameters": {
										"variable": "selectedSize",
										"value": "MAP_WIDTH_LARGE"
									}
								}
							],
							"sid": 109446723429057
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 213119088092454,
									"parameters": {
										"variable": "map_width",
										"comparison": 0,
										"value": "MAP_WIDTH_LARGE"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 660786574793413,
									"parameters": {
										"text": "\"Small\""
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 175158535601296,
									"parameters": {
										"variable": "selectedSize",
										"value": "MAP_WIDTH_SMALL"
									}
								}
							],
							"sid": 826633092737466
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"callFunction": "changeMapSize",
									"sid": 785252085717419,
									"parameters": [
										"selectedSize"
									]
								}
							],
							"sid": 619822586126727
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 121724567418766,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"geography_size_prev\""
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "UIText",
							"sid": 577033534129999,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"geography_size\""
							}
						}
					],
					"actions": [],
					"sid": 661879852721527,
					"children": [
						{
							"eventType": "variable",
							"name": "selectedSize",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 929245008961117
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 894451586169577,
									"parameters": {
										"variable": "map_width",
										"comparison": 0,
										"value": "MAP_WIDTH_SMALL"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 114002796081885,
									"parameters": {
										"text": "\"Large\""
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 794818016664439,
									"parameters": {
										"variable": "selectedSize",
										"value": "MAP_WIDTH_LARGE"
									}
								}
							],
							"sid": 717811468887796
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 959968697213202,
									"parameters": {
										"variable": "map_width",
										"comparison": 0,
										"value": "MAP_WIDTH_LARGE"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 883947866137067,
									"parameters": {
										"text": "\"Medium\""
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 551231077774692,
									"parameters": {
										"variable": "selectedSize",
										"value": "MAP_WIDTH_MEDIUM"
									}
								}
							],
							"sid": 403296099000526
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 192818071790148,
									"parameters": {
										"variable": "map_width",
										"comparison": 0,
										"value": "MAP_WIDTH_MEDIUM"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 937338745829477,
									"parameters": {
										"text": "\"Small\""
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 269804393878059,
									"parameters": {
										"variable": "selectedSize",
										"value": "MAP_WIDTH_SMALL"
									}
								}
							],
							"sid": 563652973500038
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"callFunction": "changeMapSize",
									"sid": 574927764865061,
									"parameters": [
										"selectedSize"
									]
								}
							],
							"sid": 774312672174956
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 440870098035146,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"situation_government_next\""
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "UIText",
							"sid": 159369423297985,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"situation_government\""
							}
						}
					],
					"actions": [],
					"sid": 445567574912647,
					"children": [
						{
							"eventType": "variable",
							"name": "selectedGovernment",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 698233719917700
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 685619498615429,
									"parameters": {
										"variable": "selectedGovernment",
										"value": "replace(lowercase(UIText.Text), \" \", \"_\")"
									}
								}
							],
							"sid": 167769212260559
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 893971014795767,
									"parameters": {
										"variable": "selectedGovernment",
										"comparison": 0,
										"value": "\"democratic\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 800810069162366,
									"parameters": {
										"text": "\"Semi Democratic\""
									}
								}
							],
							"sid": 971180768166768
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 703683304536408,
									"parameters": {
										"variable": "selectedGovernment",
										"comparison": 0,
										"value": "\"semi_democratic\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 169277300100538,
									"parameters": {
										"text": "\"Semi Autocratic\""
									}
								}
							],
							"sid": 915210799527516
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 425381234689621,
									"parameters": {
										"variable": "selectedGovernment",
										"comparison": 0,
										"value": "\"semi_autocratic\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 987358306850869,
									"parameters": {
										"text": "\"Autocratic\""
									}
								}
							],
							"sid": 443421037818730
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 358862620272207,
									"parameters": {
										"variable": "selectedGovernment",
										"comparison": 0,
										"value": "\"autocratic\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 370744595337091,
									"parameters": {
										"text": "\"Democratic\""
									}
								}
							],
							"sid": 254856110755096
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 266817686620092,
									"parameters": {
										"variable": "selectedGovernment",
										"value": "replace(lowercase(UIText.Text), \" \", \"_\")"
									}
								},
								{
									"type": "script",
									"script": "setupSituationGovernment(localVars.selectedGovernment);"
								}
							],
							"sid": 151563777579947
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 544666700861499,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"situation_government_prev\""
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "UIText",
							"sid": 338976161442378,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"situation_government\""
							}
						}
					],
					"actions": [],
					"sid": 878768432421083,
					"children": [
						{
							"eventType": "variable",
							"name": "selectedGovernment",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 467579144323060
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 423424672627232,
									"parameters": {
										"variable": "selectedGovernment",
										"value": "replace(lowercase(UIText.Text), \" \", \"_\")"
									}
								}
							],
							"sid": 198484174309900
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 277120874988738,
									"parameters": {
										"variable": "selectedGovernment",
										"comparison": 0,
										"value": "\"democratic\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 975257657148231,
									"parameters": {
										"text": "\"Autocratic\""
									}
								}
							],
							"sid": 281598035007133
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 674255227191782,
									"parameters": {
										"variable": "selectedGovernment",
										"comparison": 0,
										"value": "\"semi_democratic\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 741748965584179,
									"parameters": {
										"text": "\"Democratic\""
									}
								}
							],
							"sid": 514616387445327
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 177594748513099,
									"parameters": {
										"variable": "selectedGovernment",
										"comparison": 0,
										"value": "\"semi_autocratic\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 314823676023549,
									"parameters": {
										"text": "\"Semi Democratic\""
									}
								}
							],
							"sid": 338376944009925
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 596272814009890,
									"parameters": {
										"variable": "selectedGovernment",
										"comparison": 0,
										"value": "\"autocratic\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 931510050120483,
									"parameters": {
										"text": "\"Semi Autocratic\""
									}
								}
							],
							"sid": 370794271349802
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 536156409587328,
									"parameters": {
										"variable": "selectedGovernment",
										"value": "replace(lowercase(UIText.Text), \" \", \"_\")"
									}
								},
								{
									"type": "script",
									"script": "setupSituationGovernment(localVars.selectedGovernment);"
								}
							],
							"sid": 867501985746183
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 148096855450660,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"situation_economy_next\""
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "UIText",
							"sid": 184106110109572,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"situation_economy\""
							}
						}
					],
					"actions": [],
					"sid": 478507034978492,
					"children": [
						{
							"eventType": "variable",
							"name": "selectedEconomy",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 368186092791237
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 875839078288545,
									"parameters": {
										"variable": "selectedEconomy",
										"value": "replace(lowercase(UIText.Text), \" \", \"_\")"
									}
								}
							],
							"sid": 441703229745250
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 287865445645738,
									"parameters": {
										"variable": "selectedEconomy",
										"comparison": 0,
										"value": "\"developed\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 571623241391222,
									"parameters": {
										"text": "\"Newly Emerging\""
									}
								}
							],
							"sid": 283757869940712
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 239107101869923,
									"parameters": {
										"variable": "selectedEconomy",
										"comparison": 0,
										"value": "\"newly_emerging\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 546072699801219,
									"parameters": {
										"text": "\"Developing\""
									}
								}
							],
							"sid": 402817435163328
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 465452809111963,
									"parameters": {
										"variable": "selectedEconomy",
										"comparison": 0,
										"value": "\"developing\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 921799191331636,
									"parameters": {
										"text": "\"Developed\""
									}
								}
							],
							"sid": 197467144214343
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 484515474196344,
									"parameters": {
										"variable": "selectedEconomy",
										"value": "replace(lowercase(UIText.Text), \" \", \"_\")"
									}
								},
								{
									"type": "script",
									"script": "setupSituationEconomy(localVars.selectedEconomy);"
								}
							],
							"sid": 158143361114616
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 345038472626446,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"situation_economy_prev\""
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "UIText",
							"sid": 339743675434358,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"situation_economy\""
							}
						}
					],
					"actions": [],
					"sid": 685283747133693,
					"children": [
						{
							"eventType": "variable",
							"name": "selectedEconomy",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 470729211209972
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 617069192010743,
									"parameters": {
										"variable": "selectedEconomy",
										"value": "replace(lowercase(UIText.Text), \" \", \"_\")"
									}
								}
							],
							"sid": 221775592754337
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 276976675140609,
									"parameters": {
										"variable": "selectedEconomy",
										"comparison": 0,
										"value": "\"developed\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 962870842525670,
									"parameters": {
										"text": "\"Developing\""
									}
								}
							],
							"sid": 651068929749655
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 437900167836562,
									"parameters": {
										"variable": "selectedEconomy",
										"comparison": 0,
										"value": "\"newly_emerging\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 336396105222078,
									"parameters": {
										"text": "\"Developed\""
									}
								}
							],
							"sid": 764048671827597
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 736557010290548,
									"parameters": {
										"variable": "selectedEconomy",
										"comparison": 0,
										"value": "\"developing\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 426718778911111,
									"parameters": {
										"text": "\"Newly Emerging\""
									}
								}
							],
							"sid": 394725060935757
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 179477781351210,
									"parameters": {
										"variable": "selectedEconomy",
										"value": "replace(lowercase(UIText.Text), \" \", \"_\")"
									}
								},
								{
									"type": "script",
									"script": "setupSituationEconomy(localVars.selectedEconomy);"
								}
							],
							"sid": 326437996491958
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 767765901647767,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"next\""
							}
						}
					],
					"actions": [
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 467627601076284,
							"parameters": {
								"type": "log",
								"message": "\"Create \" & MapData.Width & \"|\" & MapData.Height"
							}
						}
					],
					"sid": 959089417526797,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "layer-is-visible",
									"objectClass": "System",
									"sid": 165990528267304,
									"parameters": {
										"layer": "\"CreateCrisis\""
									}
								}
							],
							"actions": [
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 846273706338260,
									"parameters": {
										"type": "log",
										"message": "\"in crisis \" & map_width"
									}
								},
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 765146153007222,
									"parameters": {
										"layer": "\"Loading\"",
										"visibility": "visible"
									}
								},
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 191092146711656,
									"parameters": {
										"layer": "\"CreateCrisis\"",
										"visibility": "invisible"
									}
								},
								{
									"id": "set-layer-interactive",
									"objectClass": "System",
									"sid": 648900559043715,
									"parameters": {
										"layer": "\"CreateCrisis\"",
										"interactive": false
									}
								},
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 455494919411667,
									"parameters": {
										"layer": "\"Main\"",
										"visibility": "invisible"
									}
								},
								{
									"id": "set-layer-interactive",
									"objectClass": "System",
									"sid": 495203287430995,
									"parameters": {
										"layer": "\"Main\"",
										"interactive": false
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 757203983231693,
									"parameters": {
										"seconds": "0.1"
									}
								},
								{
									"type": "script",
									"script": "setInitialCrisisVariables();"
								}
							],
							"sid": 895680646756345,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 987122800791397,
											"parameters": {
												"variable": "map_width",
												"comparison": 0,
												"value": "MAP_WIDTH_SMALL"
											}
										}
									],
									"actions": [
										{
											"id": "go-to-layout",
											"objectClass": "System",
											"sid": 996494309741756,
											"parameters": {
												"layout": "SmallMapLayout"
											}
										}
									],
									"sid": 244265572948109
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 394338038597923,
											"parameters": {
												"variable": "map_width",
												"comparison": 0,
												"value": "MAP_WIDTH_MEDIUM"
											}
										}
									],
									"actions": [
										{
											"id": "go-to-layout",
											"objectClass": "System",
											"sid": 371057664618371,
											"parameters": {
												"layout": "MediumMapLayout"
											}
										}
									],
									"sid": 389602484247474
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 326113118783156,
											"parameters": {
												"variable": "map_width",
												"comparison": 0,
												"value": "MAP_WIDTH_LARGE"
											}
										}
									],
									"actions": [
										{
											"id": "go-to-layout",
											"objectClass": "System",
											"sid": 602603502682790,
											"parameters": {
												"layout": "LargeMapLayout"
											}
										}
									],
									"sid": 455838287085776
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "layer-is-visible",
									"objectClass": "System",
									"sid": 518911637750718,
									"parameters": {
										"layer": "\"CreateSituation\""
									}
								}
							],
							"actions": [
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 100151451587074,
									"parameters": {
										"type": "log",
										"message": "\"in situation\""
									}
								},
								{
									"callFunction": "showLayer",
									"sid": 212563329323636,
									"parameters": [
										"\"CreateCrisis\""
									]
								}
							],
							"sid": 537208329796958
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "layer-is-visible",
									"objectClass": "System",
									"sid": 985469872726185,
									"parameters": {
										"layer": "\"CreateGeography\""
									}
								}
							],
							"actions": [
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 765412035377598,
									"parameters": {
										"type": "log",
										"message": "\"in geography\""
									}
								},
								{
									"callFunction": "showLayer",
									"sid": 850203431470049,
									"parameters": [
										"\"CreateSituation\""
									]
								}
							],
							"sid": 582537039298336
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 475147938448137,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"back\""
							}
						}
					],
					"actions": [
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 869446915587084,
							"parameters": {
								"type": "log",
								"message": "\"Create \" & MapData.Width & \"|\" & MapData.Height"
							}
						}
					],
					"sid": 679494723314992,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "layer-is-visible",
									"objectClass": "System",
									"sid": 126306823273567,
									"parameters": {
										"layer": "\"CreateGeography\""
									}
								}
							],
							"actions": [
								{
									"id": "go-to-layout",
									"objectClass": "System",
									"sid": 521996972998020,
									"parameters": {
										"layout": "ScenarioLevelLayout"
									}
								}
							],
							"sid": 265941962674829
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "layer-is-visible",
									"objectClass": "System",
									"sid": 746695032713537,
									"parameters": {
										"layer": "\"CreateSituation\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "showLayer",
									"sid": 912936581650577,
									"parameters": [
										"\"CreateGeography\""
									]
								}
							],
							"sid": 948518494411017
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "layer-is-visible",
									"objectClass": "System",
									"sid": 551160735053665,
									"parameters": {
										"layer": "\"CreateCrisis\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "showLayer",
									"sid": 407449476707084,
									"parameters": [
										"\"CreateSituation\""
									]
								}
							],
							"sid": 475787296098013
						}
					]
				}
			]
		},
		{
			"functionName": "changeMapSize",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "size",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 344079775919956
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "seed",
					"objectClass": "AdvancedRandom",
					"sid": 280872018594118,
					"parameters": {
						"seed": "AdvancedRandom.RandomSeed"
					}
				}
			],
			"sid": 832333007217171,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 619302384602363,
							"parameters": {
								"variable": "size",
								"comparison": 0,
								"value": "MAP_WIDTH_SMALL"
							}
						}
					],
					"actions": [
						{
							"id": "set-size",
							"objectClass": "MapData",
							"sid": 846385108441862,
							"parameters": {
								"width": "ceil(MAP_WIDTH_SMALL / 64)",
								"height": "ceil((MAP_WIDTH_SMALL / 16 * 9) / 64)",
								"depth": "1"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 423443094829836,
							"parameters": {
								"variable": "mapSize",
								"value": "DrawingCanvas.SnapshotWidth / (MAP_WIDTH_SMALL / 64)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 148292005872510,
							"parameters": {
								"variable": "map_width",
								"value": "MAP_WIDTH_SMALL"
							}
						},
						{
							"type": "script",
							"script": "setupGeographySize(\"small\");"
						}
					],
					"sid": 215195075292782
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 762441293852486,
							"parameters": {
								"variable": "size",
								"comparison": 0,
								"value": "MAP_WIDTH_MEDIUM"
							}
						}
					],
					"actions": [
						{
							"id": "set-size",
							"objectClass": "MapData",
							"sid": 579887128992406,
							"parameters": {
								"width": "ceil(MAP_WIDTH_MEDIUM / 64)",
								"height": "ceil((MAP_WIDTH_MEDIUM / 16 * 9) / 64)",
								"depth": "1"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 169079253609752,
							"parameters": {
								"variable": "mapSize",
								"value": "DrawingCanvas.SnapshotWidth / (MAP_WIDTH_MEDIUM / 64)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 288951534943119,
							"parameters": {
								"variable": "map_width",
								"value": "MAP_WIDTH_MEDIUM"
							}
						},
						{
							"type": "script",
							"script": "setupGeographySize(\"medium\");"
						}
					],
					"sid": 134551636736874
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 240211602054731,
							"parameters": {
								"variable": "size",
								"comparison": 0,
								"value": "MAP_WIDTH_LARGE"
							}
						}
					],
					"actions": [
						{
							"id": "set-size",
							"objectClass": "MapData",
							"sid": 965546871403308,
							"parameters": {
								"width": "ceil(MAP_WIDTH_LARGE / 64)",
								"height": "ceil((MAP_WIDTH_LARGE / 16 * 9) / 64)",
								"depth": "1"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 405804091948999,
							"parameters": {
								"variable": "mapSize",
								"value": "DrawingCanvas.SnapshotWidth / (MAP_WIDTH_LARGE / 64)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 915128706695306,
							"parameters": {
								"variable": "map_width",
								"value": "MAP_WIDTH_LARGE"
							}
						},
						{
							"type": "script",
							"script": "setupGeographySize(\"large\");"
						}
					],
					"sid": 956897284278889
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "CreateMap",
							"sid": 829136805654480
						}
					],
					"sid": 518156717027679
				}
			]
		},
		{
			"functionName": "showLayer",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "layerName",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 765490604983225
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "set-layer-visible",
					"objectClass": "System",
					"sid": 106963592284428,
					"parameters": {
						"layer": "\"CreateGeography\"",
						"visibility": "invisible"
					}
				},
				{
					"id": "set-layer-interactive",
					"objectClass": "System",
					"sid": 697232023307777,
					"parameters": {
						"layer": "\"CreateGeography\"",
						"interactive": false
					}
				},
				{
					"id": "set-layer-visible",
					"objectClass": "System",
					"sid": 796541067256712,
					"parameters": {
						"layer": "\"CreateSituation\"",
						"visibility": "invisible"
					}
				},
				{
					"id": "set-layer-interactive",
					"objectClass": "System",
					"sid": 713284503122571,
					"parameters": {
						"layer": "\"CreateSituation\"",
						"interactive": false
					}
				},
				{
					"id": "set-layer-visible",
					"objectClass": "System",
					"sid": 713329751378966,
					"parameters": {
						"layer": "\"CreateCrisis\"",
						"visibility": "invisible"
					}
				},
				{
					"id": "set-layer-interactive",
					"objectClass": "System",
					"sid": 153412871909879,
					"parameters": {
						"layer": "\"CreateCrisis\"",
						"interactive": false
					}
				},
				{
					"id": "set-layer-visible",
					"objectClass": "System",
					"sid": 566209163177892,
					"parameters": {
						"layer": "layerName",
						"visibility": "visible"
					}
				},
				{
					"id": "set-layer-interactive",
					"objectClass": "System",
					"sid": 195658815060225,
					"parameters": {
						"layer": "layerName",
						"interactive": true
					}
				}
			],
			"sid": 232029996006653,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Button",
							"sid": 677071011827893,
							"parameters": {
								"instance-variable": "id",
								"comparison": 0,
								"value": "\"next\""
							}
						}
					],
					"actions": [],
					"sid": 879509454242808,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "layer-is-visible",
									"objectClass": "System",
									"sid": 541272779902172,
									"parameters": {
										"layer": "\"CreateCrisis\""
									}
								}
							],
							"actions": [
								{
									"id": "set-animation-frame",
									"objectClass": "Button",
									"sid": 601167195753031,
									"parameters": {
										"frame-number": "3"
									}
								}
							],
							"sid": 560135437751957
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 552179396770216
								}
							],
							"actions": [
								{
									"id": "set-animation-frame",
									"objectClass": "Button",
									"sid": 862816053883170,
									"parameters": {
										"frame-number": "2"
									}
								}
							],
							"sid": 890429181372423
						}
					]
				}
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "SliderBar2",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 942719958468730
						},
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 989831643507717,
							"parameters": {
								"object": "Slider"
							}
						}
					],
					"actions": [
						{
							"callFunction": "SetupSliderBar2",
							"sid": 892608299287573
						}
					],
					"sid": 886247137777311
				},
				{
					"functionName": "SetupSliderBar2",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-x",
							"objectClass": "Slider",
							"sid": 769039402297195,
							"parameters": {
								"x": "Self.minX + Self.value/Self.maxValue * (Self.maxX - Self.minX)"
							}
						}
					],
					"sid": 123603943680102,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UIText",
									"sid": 408405854903051,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "Slider.id"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 170222275518806,
									"parameters": {
										"text": "Slider.value"
									}
								}
							],
							"sid": 509809705514916
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-dragging",
							"objectClass": "Slider",
							"sid": 881580077233864,
							"behaviorType": "DragDrop"
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Slider",
							"sid": 546083165453754,
							"parameters": {
								"instance-variable": "isDraggable"
							}
						},
						{
							"id": "layer-is-interactive",
							"objectClass": "System",
							"sid": 260160262096215,
							"parameters": {
								"layer": "Slider.LayerName"
							}
						}
					],
					"actions": [
						{
							"id": "set-x",
							"objectClass": "Slider",
							"sid": 717168976208513,
							"parameters": {
								"x": "clamp(Self.X, Self.minX, Self.maxX)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Slider",
							"sid": 927774729442205,
							"parameters": {
								"instance-variable": "value",
								"value": "(Self.X - Self.minX) / (Self.maxX - Self.minX) * Self.maxValue"
							}
						}
					],
					"sid": 958163253000268,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Slider",
									"sid": 599007230948831,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"zoom\""
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 535963582719562,
									"parameters": {
										"variable": "mapZoom",
										"value": "Slider.value"
									}
								},
								{
									"callFunction": "CreateMap",
									"sid": 597363635165326
								}
							],
							"sid": 545016390882462
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Slider",
									"sid": 345250143951347,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"threshold\""
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 855071667521340,
									"parameters": {
										"variable": "mapThreshold",
										"value": "Slider.value"
									}
								},
								{
									"callFunction": "CreateMap",
									"sid": 989858626158846
								}
							],
							"sid": 204534680663153
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Slider",
									"sid": 568367241544682,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"size\""
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 148043557408571,
									"parameters": {
										"variable": "mapSize",
										"value": "Slider.value + 1"
									}
								},
								{
									"callFunction": "CreateMap",
									"sid": 752202592214194
								}
							],
							"sid": 624356314996120
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Slider",
									"sid": 663775000233629,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"octave\""
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 446140777446871,
									"parameters": {
										"variable": "octave",
										"value": "Slider.value"
									}
								},
								{
									"callFunction": "CreateMap",
									"sid": 408426690717843
								}
							],
							"sid": 771405263996148
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Slider",
									"sid": 163827658992804,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"colors\""
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 486515858799460,
									"disabled": true,
									"parameters": {
										"variable": "colors",
										"value": "round(Slider.value) +1"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 269771507165492,
									"parameters": {
										"variable": "colors",
										"value": "Slider.value + 1"
									}
								},
								{
									"callFunction": "CreateMap",
									"sid": 639982819823824
								}
							],
							"sid": 717193197348771
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Slider",
									"sid": 865159633507314,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "\"geography_land_water\""
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 771263819172195,
									"disabled": true,
									"parameters": {
										"variable": "colors",
										"value": "round(Slider.value) +1"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 126495266325217,
									"parameters": {
										"variable": "mapThreshold",
										"value": "0.4 + Slider.value"
									}
								},
								{
									"type": "script",
									"script": "const slider = runtime.objects.Slider.getPickedInstances()[0];\nconst landWaterValue = slider.instVars['value'] / slider.instVars['maxValue'] * 100;\n\nsetupGeographyLandWater(landWaterValue);"
								},
								{
									"callFunction": "CreateMap",
									"sid": 177220874236448
								}
							],
							"sid": 980418633432627
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UIText",
									"sid": 536707995256298,
									"parameters": {
										"instance-variable": "id",
										"comparison": 0,
										"value": "Slider.id"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "UIText",
									"sid": 249771089755614,
									"parameters": {
										"text": "Slider.value"
									}
								}
							],
							"sid": 224561669498037,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Slider",
											"sid": 548006207954099,
											"parameters": {
												"instance-variable": "id",
												"comparison": 0,
												"value": "\"colors\""
											}
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "UIText",
											"sid": 787749395026452,
											"parameters": {
												"text": "round(Slider.value) +1"
											}
										}
									],
									"sid": 614471910698856
								}
							]
						}
					]
				},
				{
					"functionName": "SetSliderValue2",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": true,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "value",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 200328330475411
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Slider",
							"sid": 311784877273437,
							"parameters": {
								"instance-variable": "value",
								"value": "value"
							}
						},
						{
							"id": "set-x",
							"objectClass": "Slider",
							"sid": 595577322291989,
							"parameters": {
								"x": "Self.minX +clamp (value/Self.maxValue * (Self.maxValue - Self.minX), Self.minX, Self.maxX)"
							}
						}
					],
					"sid": 531056998503971
				}
			],
			"sid": 302609104592723
		},
		{
			"functionName": "UIPanelClicked2",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": true,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "uid",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 947893673009566
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "ClickablePanel",
					"sid": 257194790460039,
					"parameters": {
						"unique-id": "uid"
					}
				}
			],
			"actions": [],
			"sid": 271930313313117,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 712113728033057,
							"parameters": {
								"first-value": "RegexMatchCount(ClickablePanel.id, \"initial_crisis_clickable$\", \"\")",
								"comparison": 0,
								"second-value": "1"
							}
						}
					],
					"actions": [
						{
							"type": "script",
							"script": "const clickable = runtime.objects.ClickablePanel.getPickedInstances()[0];\nconst initialCrisisName = clickable.instVars['id'].replace(\"_initial_crisis_clickable\", \"\");\n\nchooseInitialCrisis(initialCrisisName);"
						}
					],
					"sid": 485022333466131
				}
			]
		}
	],
	"sid": 943331261340760
}